<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>vl-data-insert.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/atom-one-dark.css" /><script type="text/javascript" src="highlight/highlight.pack.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with the <a href="https://github.com/clojang/codox-theme">Clojang UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Vl-data-insert</span> <span class="project-version">0.1.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vl-data-insert</span></div></div></li><li class="depth-2 branch current"><a href="vl-data-insert.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="vl-data-insert.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="vl-data-insert.core.html#var-append-and-replace"><div class="inner"><span>append-and-replace</span></div></a></li><li class="depth-1"><a href="vl-data-insert.core.html#var-fit-in-struct"><div class="inner"><span>fit-in-struct</span></div></a></li><li class="depth-1"><a href="vl-data-insert.core.html#var-store-result"><div class="inner"><span>store-result</span></div></a></li><li class="depth-1"><a href="vl-data-insert.core.html#var-store-results"><div class="inner"><span>store-results</span></div></a></li><li class="depth-1"><a href="vl-data-insert.core.html#var-vector-vals"><div class="inner"><span>vector-vals</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">vl-data-insert.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-append-and-replace"><h3>append-and-replace</h3><div class="usage"><code>(append-and-replace struct {t :Type, v :Value, u :Unit, n :N, s :SdValue})</code></div><div class="doc"><div class="markdown"><p>Append <code>:Value</code>, <code>:SdValue</code> and <code>:N</code> if present. Relaces <code>:Type</code> and <code>:Unit</code>.</p></div></div><div class="src-link"><a href="https://github.com/wactbprot/cmp/blob/master/src/vl_data_insert/core.clj#L20">view source</a></div></div><div class="public anchor" id="var-fit-in-struct"><h3>fit-in-struct</h3><div class="usage"><code>(fit-in-struct s m)</code></div><div class="doc"><div class="markdown"><p>Fits <code>m</code> into the given structure <code>s</code>. Function looks up the <code>:Type</code> of <code>m</code>. If a structure with the same <code>:Type</code> exist <a href="vl-data-insert.core.html#var-append-and-replace">append-and-replace</a> is called.</p></div></div><div class="src-link"><a href="https://github.com/wactbprot/cmp/blob/master/src/vl_data_insert/core.clj#L32">view source</a></div></div><div class="public anchor" id="var-store-result"><h3>store-result</h3><div class="usage"><code>(store-result doc m p)</code></div><div class="doc"><div class="markdown"><p>Stores the result map <code>m</code> in the given <code>doc</code>ument under <code>p</code>ath. If <code>m</code> contains <code>:Type</code> and <code>:Value</code> <code>m</code> is <a href="vl-data-insert.core.html#var-fit-in-struct">fit-in-struct</a> and the structure <code>s</code> is assumed to be a <code>vector</code>. Other cases (e.g. merge in <code>:AuxValues</code>) are straight forward (see <a href="null">vl-data-insert/test/cmp/doc_test.clj</a> for details).</p></div></div><div class="src-link"><a href="https://github.com/wactbprot/cmp/blob/master/src/vl_data_insert/core.clj#L44">view source</a></div></div><div class="public anchor" id="var-store-results"><h3>store-results</h3><div class="usage"><code>(store-results doc v p)</code></div><div class="doc"><div class="markdown"><p>Takes a vector of maps. Calls <code>store-result</code> on each map.</p>
<p>Example:</p>
<pre><code class="clojure">(def p "Calibration.Measurement.Values.Pressure")
(def m {:Type    "a"
      :Unit    "b"
      :Value   [0]
      :SdValue [0]
      :N       [1]})

(def d {:Calibration
       {:Measurement
        {:Values
         {:Pressure
         [{:Type    "a"
          :Unit    "b"
          :Value   [0]
          :SdValue [0]
          :N       [1]}]}}}})

(store-results d [m m m m] p)

;; =&gt;
;;   {:Calibration
;;    {:Measurement
;;     {:Values
;;      {:Pressure
;;       [{:Type "a",
;;         :Unit "b",
;;         :Value [0 0 0 0 0],
;;         :SdValue [0 0 0 0 0],
;;         :N [1 1 1 1 1]}]}}}}
</code></pre></div></div><div class="src-link"><a href="https://github.com/wactbprot/cmp/blob/master/src/vl_data_insert/core.clj#L60">view source</a></div></div><div class="public anchor" id="var-vector-vals"><h3>vector-vals</h3><div class="usage"><code>(vector-vals m)</code></div><div class="doc"><div class="markdown"><p>Ensures that the values of <code>:Value</code>,<code>:SdValue</code> and <code>:N</code> are vectors.</p></div></div><div class="src-link"><a href="https://github.com/wactbprot/cmp/blob/master/src/vl_data_insert/core.clj#L11">view source</a></div></div></div></body></html>